<div ng-include="'components/navbar/navbar.html'"></div>

<div id="wrapper">
    <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand"><a href="#">Projects</a></li>
            <li ng-repeat="project in projects.getValues()">
                <a ng-click="setCurrent(project)" href="#">{{project.name}}<button type="button" class="close white" ng-click="deleteProject(project)">&times;</button></a>
                <ul>
                    <li>
                        <a href="#">Variables</a>
                    </li>
                    <li>
                        <a href="#">Configurations</a>
                        <ul>
                            <li ng-repeat="configuration_name in configurations">
                                <a href="#" ng-click="setCurrent(project); setCurrentConfiguration(configuration_name)">{{configuration_name}}</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div id="page-content-wrapper" class="container">
        <h1 class="page-header">Project <strong>{{projects.currentValue.name}}</strong> / Configuration <strong>{{currentConfiguration}}</strong></h1>
        <form class="thing-form">
            <label>Create/edit project</label>
            <p class="input-group">
                <input type="text" class="form-control" placeholder="Add a new project here."
                ng-model="projects.currentValue.name">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-primary" ng-click="addProject()">Add project</button>
                    <button type="submit" class="btn btn-primary" ng-click="newProject()">New project</button>
                </span>
            </p>
        </form>

        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Project variables:</h1>
                <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6"
                    ng-repeat="variable in projects.currentValue.variables">
                    <li><a href="#">{{variable.name}} : {{variable.defaultValue}}
                        <button type="button" class="close" ng-click="deleteVariable(variable)">&times;</button>
                    </a></li>
                </ul>
            </div>
        </div>
        <form>
            <label>Add variable</label>
            <div class="form-group">
                <div class="col-sm-5 col-md-5 col-lg-5">
                    <input type="text" class="form-control col-sm-12" placeholder="Add a new variable here." ng-model="newVariable">
                </div>
                <div class="col-sm-7 col-md-7 col-lg-7">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Default value" ng-model="newVariableDefaultValue">
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-primary" ng-click="addVariable()">Add variable</button>
                    </span>
                    </div>
                </div>
            </div>
        </form>

        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Configuration values:</h1>
                <ul class="nav nav-tabs nav-stacked col-md-3 col-lg-3 col-sm-3" ng-repeat="configuration_name in configurations">
                    <li><a href="#" ng-click="setCurrentConfiguration(configuration_name)">{{configuration_name}}</a></li>
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div ng-repeat="variable in projects.currentValue.variables">
                    <label>{{variable.name}}</label>
                    <input type="text"
                           ng-model="projects.currentValue.configurations[currentConfiguration][variable.name]" ng-init="variable.defaultValue"/><br/>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <button type="submit" class="btn btn-primary" ng-click="addProject()">Save project</button>
            </div>
        </div>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <p>Angular Fullstack v2.0.13 |
            <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |
            <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p>
    </div>
</footer>
